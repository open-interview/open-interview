{
  "question": "Compare rolling-update, canary, and blue-green deployment strategies in Kubernetes - when would you choose each?",
  "answer": "Rolling: gradual replacement. Canary: test small subset. Blue-Green: switch traffic instantly between identical environments.",
  "explanation": "## Why Asked\nTests understanding of deployment strategies and risk management in production systems.\n\n## Key Concepts\n- Rolling Update: Gradual pod replacement with health checks\n- Canary: Deploy to small percentage of traffic first\n- Blue-Green: Maintain two identical production environments\n- Zero-downtime deployment patterns\n- Rollback strategies and recovery\n\n## Code Example\n```\n# Rolling Update (default)\nkubectl set image deployment/app app=v2 --record\n\n# Canary with 10% traffic\napiVersion: argoproj.io/v1alpha1\nkind: Rollout\nspec:\n  strategy:\n    canary:\n      steps:\n      - setWeight: 10\n      - pause: {duration: 10m}\n\n# Blue-Green with ArgoCD\napiVersion: argoproj.io/v1alpha1\nkind: Rollout\nspec:\n  strategy:\n    blueGreen:\n      activeService: app-active\n      previewService: app-preview\n```\n\n## Follow-up Questions\n- How do you handle database migrations with each strategy?\n- What monitoring is essential for canary deployments?\n- How do you test blue-green before traffic switch?\n- When would rolling update be inappropriate?",
  "diagram": "flowchart TD\n    A[Deployment Strategy Choice] --> B{Risk Tolerance}\n    B -->|Low Risk| C[Blue-Green]\n    B -->|Medium Risk| D[Canary]\n    B -->|Standard Risk| E[Rolling Update]\n    \n    C --> C1[Two Identical Envs]\n    C1 --> C2[Instant Traffic Switch]\n    C2 --> C3[Immediate Rollback]\n    \n    D --> D1[Deploy to 5-10% Traffic]\n    D1 --> D2[Monitor & Validate]\n    D2 --> D3[Gradual Traffic Increase]\n    \n    E --> E1[Replace Pods Gradually]\n    E1 --> E2[Health Check Each Pod]\n    E2 --> E3[Continue Until Complete]",
  "companies": ["Google", "Amazon", "Meta", "Microsoft", "Netflix"],
  "sourceUrl": "https://kubernetes.io/docs/concepts/workloads/controllers/deployment/",
  "videos": {"shortVideo": null, "longVideo": null}
}