{
  "question": "How would you structure a Terragrunt configuration to implement DRY principles across multiple environments while using Atlantis for GitOps automation?",
  "answer": "Use terragrunt.hcl for shared configs, environment-specific overrides, and Atlantis workflows for automated plan/apply via pull requests.",
  "explanation": "## Why Asked\nTests understanding of infrastructure as code best practices, DRY principles, and GitOps workflows in enterprise environments.\n\n## Key Concepts\n- Terragrunt DRY patterns with include blocks\n- Environment hierarchy (dev/staging/prod)\n- Atlantis workflow automation\n- Remote state management\n- Dependency management\n\n## Code Example\n```\n# terragrunt.hcl (root)\ninclude \"root\" {\n  path = find_in_parent_folders()\n}\n\nterraform {\n  source = \"git::ssh://git@github.com/company/modules.git//app\"\n}\n\ninputs = merge(\n  local.common_vars,\n  local.env_vars\n)\n\n# env/dev/terragrunt.hcl\ninclude \"env\" {\n  path = \"${dirname(find_in_parent_folders())}/_env.hcl\"\n}\n\nlocals {\n  env_vars = {\n    environment = \"dev\"\n    instance_count = 1\n  }\n}\n```\n\n## Follow-up Questions\n- How do you handle secrets management with Atlantis?\n- What's your approach to testing Terragrunt configurations?\n- How do you manage dependencies between services?",
  "diagram": "flowchart TD\n  A[Git Push] --> B[Atlantis Webhook]\n  B --> C[Parse Pull Request]\n  C --> D[Terragrunt Run All]\n  D --> E[Generate Plan]\n  E --> F[Comment Plan on PR]\n  F --> G{PR Approved?}\n  G -->|Yes| H[Apply Changes]\n  G -->|No| I[Wait for Approval]\n  H --> J[Update State]\n  I --> F",
  "companies": ["Google", "Amazon", "Meta"],
  "sourceUrl": "https://terragrunt.gruntwork.io/docs/features/keep-your-terraform-code-dry/",
  "videos": {"shortVideo": null, "longVideo": null}
}