{
  "question": "How does Kafka ensure exactly-once processing semantics in a stream processing application?",
  "answer": "Kafka uses idempotent producers, transactions, and consumer offsets to guarantee exactly-once delivery.",
  "explanation": "## Why Asked\nTests understanding of data reliability guarantees in distributed streaming systems, crucial for financial and critical applications.\n\n## Key Concepts\n- Idempotent producers prevent duplicate messages\n- Transactions enable atomic writes across multiple partitions\n- Consumer offsets stored in Kafka for state management\n- Power API enables read-process-write patterns\n\n## Code Example\n```\n// Kafka transactional producer\nproducer.initTransactions();
producer.beginTransaction();

try {
  producer.send(record1);
  producer.send(record2);
  producer.commitTransaction();
} catch (Exception e) {
  producer.abortTransaction();
}\n```\n\n## Follow-up Questions\n- How does Kafka handle broker failures during transactions?\n- What's the performance impact of exactly-once semantics?\n- How does this compare to Flink's checkpointing mechanism?",
  "diagram": "flowchart TD\n  A[Producer] --> B[Transaction Start]\n  B --> C[Send Message 1]\n  C --> D[Send Message 2]\n  D --> E{Success?}\n  E -->|Yes| F[Commit Transaction]\n  E -->|No| G[Abort Transaction]\n  F --> H[Update Offsets]\n  G --> I[Rollback Changes]",
  "companies": ["Confluent", "LinkedIn", "Netflix", "Uber"],
  "sourceUrl": "https://kafka.apache.org/documentation/#exactly_once_semantics",
  "videos": {"shortVideo": null, "longVideo": null}
}